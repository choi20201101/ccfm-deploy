================================================================
  CCFM 면담관리 시스템 - 완전 설치 가이드
================================================================

면담을 녹음하면 AI가 자동으로 분석해서
Notion에 정리하고, 텔레그램으로 알림을 보내주는 앱입니다.

코딩 지식 없이도 이 가이드만 따라하면 설치할 수 있습니다.
총 소요시간: 약 30~40분

준비물: 이메일, 신용카드(해외결제 가능)


================================================================
  전체 순서
================================================================

1단계: GitHub 가입 + Vercel 가입
2단계: Vercel Pro 결제 ($20/월)
3단계: Notion API 설정
4단계: OpenAI 가입 + 크레딧 충전
5단계: Anthropic 가입 + 크레딧 충전
6단계: 텔레그램 봇 만들기 (선택)
7단계: Vercel에 앱 배포
8단계: Vercel Blob 설정
9단계: 최종 설정 + 재배포
10단계: 모바일에 앱 설치
11단계: 사용 시작!


================================================================
  1단계: GitHub 가입 + Vercel 가입
================================================================

[GitHub 가입]

1. 크롬 브라우저에서 아래 주소 접속:
   https://github.com/signup

2. 이메일 입력 → Continue
3. 비밀번호 입력 → Continue
4. 사용자명 입력 (영문, 예: sjyoung-ceo) → Continue
5. 이메일 인증 (이메일에 온 코드 입력)
6. 완료! GitHub 가입 끝

   ★ 메모해두세요:
   GitHub 아이디: _______________
   GitHub 비밀번호: _______________


[Vercel 가입]

1. 아래 주소 접속:
   https://vercel.com/signup

2. "Continue with GitHub" 클릭
3. GitHub 로그인 화면이 나오면 방금 만든 계정으로 로그인
4. "Authorize Vercel" 클릭 (GitHub 연동 허용)
5. 완료! Vercel 가입 끝 (GitHub과 자동 연결됨)


================================================================
  2단계: Vercel Pro 결제 ($20/월)
================================================================

※ Pro 플랜이 있어야 긴 녹음 파일(30분 이상)을 처리할 수 있습니다.
   무료 플랜은 서버 처리 시간이 10초로 제한되어 실사용 불가합니다.

1. Vercel에 로그인한 상태에서 아래 주소 접속:
   https://vercel.com/account/billing

2. "Upgrade to Pro" 또는 "Pro" 플랜 선택

3. 결제 정보 입력:
   - 카드 번호, 만료일, CVC 입력
   - 이름, 청구 주소 입력
   - 해외결제 가능한 카드 필요 (Visa, Mastercard 등)

4. "Subscribe" 또는 "Confirm" 클릭

5. 결제 완료!
   매월 $20 (약 27,000원) 자동 결제됩니다.

   ※ 해지하려면: 같은 페이지에서 "Downgrade to Hobby" 클릭


================================================================
  3단계: Notion API 설정
================================================================

[Notion 통합 만들기]

1. Notion에 로그인한 상태에서 아래 주소 접속:
   https://www.notion.so/my-integrations

2. "새 통합 만들기" 또는 "+ New integration" 클릭

3. 설정:
   - 이름: 면담관리
   - 유형: 내부
   - 연결된 워크스페이스: 내 워크스페이스 선택

4. "제출" 또는 "Submit" 클릭

5. "내부 통합 시크릿" 옆에 "표시" 클릭 → 키 복사

   ★ 메모: NOTION_API_KEY = ntn_xxxxxxxxxxxxx


[Notion 페이지 준비]

6. Notion 앱(또는 웹)에서 새 페이지 하나 생성
   - 페이지 이름: "면담관리" (아무 이름이나 OK)

7. 그 페이지에 방금 만든 통합 연결:
   - 페이지 우측 상단 "..." 클릭
   - "연결" 또는 "Connections" 클릭
   - "면담관리" 선택하여 추가

8. 그 페이지의 URL 복사:
   - 주소창에서 URL을 봅니다
   - 예시: https://www.notion.so/면담관리-abc123def456789...
   - 맨 뒤 32자리 영문+숫자 = 페이지 ID

   URL에서 마지막 "-" 뒤의 32자리를 복사하세요.
   예: abc123def456789012345678901234 (이런 형태)

   ★ 메모: NOTION_PARENT_PAGE_ID = ________________________________


================================================================
  4단계: OpenAI 가입 + 크레딧 충전
================================================================

※ OpenAI의 Whisper라는 기능이 음성을 텍스트로 변환해줍니다.

[가입]

1. 아래 주소 접속:
   https://platform.openai.com/signup

2. 이메일 또는 Google 계정으로 가입
3. 이름, 생년월일 입력
4. 휴대폰 인증

[API 키 발급]

5. 가입 후 아래 주소 접속:
   https://platform.openai.com/api-keys

6. "Create new secret key" 클릭
7. 이름: "면담관리" 입력 → "Create secret key" 클릭
8. 키가 표시됨 → 반드시 복사! (한번만 표시됩니다)

   ★ 메모: OPENAI_API_KEY = sk-proj-xxxxxxxxxxxxx

[크레딧 충전 - 필수!]

9. 아래 주소 접속:
   https://platform.openai.com/account/billing

10. "Add payment method" 클릭 → 카드 정보 입력

11. "Add to credit balance" 클릭
    → $10 입력 (약 13,500원, 30분 면담 약 55건 처리 가능)
    → "Continue" → 결제 완료

    ※ 자동 충전 설정하면 편합니다:
    "Auto recharge" 켜기 → 잔액 $2 이하 시 자동으로 $10 충전


================================================================
  5단계: Anthropic 가입 + 크레딧 충전
================================================================

※ Anthropic의 Claude AI가 면담 내용을 분석해줍니다.

[가입]

1. 아래 주소 접속:
   https://console.anthropic.com

2. 이메일로 가입 또는 Google 계정 사용
3. 이메일 인증

[API 키 발급]

4. 로그인 후 좌측 메뉴에서 "API Keys" 클릭
5. "Create Key" 클릭
6. 이름: "면담관리" → 생성
7. 키 복사

   ★ 메모: ANTHROPIC_API_KEY = sk-ant-xxxxxxxxxxxxx

[크레딧 충전 - 필수!]

8. 좌측 메뉴 "Settings" → "Billing" 클릭
9. "Add payment method" → 카드 정보 입력
10. 크레딧 충전: $10 (약 13,500원, 면담 300건 이상 처리 가능)


================================================================
  6단계: 텔레그램 봇 만들기 (선택)
================================================================

※ 면담 분석이 완료되면 텔레그램으로 알림을 보내줍니다.
   필요 없으면 이 단계를 건너뛰세요.

1. 휴대폰에서 Telegram 앱 실행
2. 검색창에 @BotFather 검색 → 대화 시작
3. /newbot 입력하여 전송
4. 봇 이름 입력 (예: 면담알림봇)
5. 봇 username 입력 (예: sjyoung_interview_bot)
   → 반드시 _bot으로 끝나야 합니다
6. 봇이 생성되면 토큰이 표시됨 → 복사

   ★ 메모: TELEGRAM_BOT_TOKEN = 1234567890:ABCDEFG...

7. 중요! 방금 생성된 봇에게 아무 메시지 하나 보내세요
   (예: "안녕" → 이래야 봇이 나에게 알림을 보낼 수 있음)


================================================================
  7단계: Vercel에 앱 배포 (핵심!)
================================================================

여기가 가장 중요한 단계입니다.
아래 링크를 클릭하면 자동으로 앱이 배포됩니다.

1. 아래 링크를 크롬 브라우저에서 클릭:

   https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fchoi20201101%2Fccfm-deploy&env=NOTION_API_KEY,NOTION_PARENT_PAGE_ID,ANTHROPIC_API_KEY,OPENAI_API_KEY,BLOB_READ_WRITE_TOKEN,TELEGRAM_BOT_TOKEN,NEXT_PUBLIC_APP_URL

2. Vercel 로그인이 안 되어있으면 로그인

3. "Create Git Repository" 섹션:
   - Git Scope: 내 GitHub 계정 선택
   - Repository Name: interview-app (아무 이름 OK)

4. "Environment Variables" 섹션이 나타남
   아래 값들을 하나씩 입력하세요:

   ┌─────────────────────────┬──────────────────────────────┐
   │ 이름 (Name)              │ 값 (Value)                    │
   ├─────────────────────────┼──────────────────────────────┤
   │ NOTION_API_KEY          │ 3단계에서 메모한 값             │
   │ NOTION_PARENT_PAGE_ID   │ 3단계에서 메모한 값             │
   │ ANTHROPIC_API_KEY       │ 5단계에서 메모한 값             │
   │ OPENAI_API_KEY          │ 4단계에서 메모한 값             │
   │ BLOB_READ_WRITE_TOKEN   │ 비워두기 (8단계에서 설정)       │
   │ TELEGRAM_BOT_TOKEN      │ 6단계에서 메모한 값 (없으면 공백)│
   │ NEXT_PUBLIC_APP_URL     │ 비워두기 (9단계에서 설정)       │
   └─────────────────────────┴──────────────────────────────┘

5. "Deploy" 클릭!

6. 1~2분 대기...
   "Congratulations!" 화면이 나오면 배포 성공!

7. 화면에 표시된 URL을 복사 (예: https://interview-app-xxxxx.vercel.app)

   ★ 메모: 내 앱 URL = https://________________________________


================================================================
  8단계: Vercel Blob 설정 (파일 저장소)
================================================================

※ 녹음 파일을 임시 저장하는 공간입니다.

1. Vercel 대시보드 접속: https://vercel.com
2. 방금 만든 프로젝트 (interview-app) 클릭
3. 상단 탭에서 "Storage" 클릭
4. "Create Database" 클릭
5. "Blob" 선택 → "Continue"
6. Store 이름: interview-files 입력
7. "Create" 클릭
8. 프로젝트와 연결하겠냐고 물으면 → "Connect" 클릭
9. 완료! 토큰이 자동으로 환경변수에 추가됩니다.


================================================================
  9단계: 최종 설정 + 재배포
================================================================

[NEXT_PUBLIC_APP_URL 설정]

1. Vercel 대시보드 → 프로젝트 클릭
2. 상단 "Settings" 탭 클릭
3. 좌측 메뉴에서 "Environment Variables" 클릭
4. 아래 값을 추가:
   - Key: NEXT_PUBLIC_APP_URL
   - Value: 7단계에서 메모한 내 앱 URL
     (예: https://interview-app-xxxxx.vercel.app)
   - "Save" 클릭

[재배포]

5. 상단 "Deployments" 탭 클릭
6. 가장 위에 있는 배포 항목 옆 "..." 클릭
7. "Redeploy" 클릭 → "Redeploy" 확인
8. 1~2분 대기

9. 배포 완료! 이제 앱을 사용할 수 있습니다!


================================================================
  10단계: 모바일에 앱 설치
================================================================

이 앱은 모바일 홈 화면에 설치하면 일반 앱처럼 사용할 수 있습니다.

[Android 폰]
1. Chrome 브라우저에서 내 앱 URL 접속
2. 주소창 오른쪽에 설치 아이콘이 뜸 또는
   오른쪽 위 메뉴(⋮) → "홈 화면에 추가" 또는 "앱 설치"
3. 홈 화면에 앱 아이콘이 생김!

[iPhone]
1. Safari에서 내 앱 URL 접속 (반드시 Safari)
2. 하단 공유 버튼 (□↑ 모양) 클릭
3. "홈 화면에 추가" 선택
4. 홈 화면에 앱 아이콘이 생김!


================================================================
  11단계: 사용 시작!
================================================================

1. 앱 실행 (홈 화면 아이콘 또는 URL 접속)

2. 하단 메뉴에서 "면담 녹음" 탭 선택

3. 두 가지 방식 중 선택:
   - "직접 녹음": 빨간 버튼 눌러서 녹음 시작/종료
   - "파일 업로드": 기존 녹음 파일(m4a, mp3 등) 선택

4. 대상자 선택:
   - 처음이면 "+ 직원 추가하기" 또는 "+ 광고주 추가하기"로 등록
   - 등록된 사람이면 이름 클릭

5. 자동 처리 시작! (화면에 진행 상태 표시됨)
   음성인식 → AI 분석 → Notion 저장 → 텔레그램 알림
   ※ 처리 중에 다른 앱으로 전환해도 OK

6. 완료되면 결과 화면에 요약/핵심 포인트 등 표시

7. "직원" 또는 "광고주" 탭에서 대상자 클릭하면:
   - 면담 기록 목록 확인
   - 카드 클릭 → AI 채팅으로 추가 질문 가능
   - 카드 삭제 가능


================================================================
  메모한 값 정리 (이 부분을 채워두세요)
================================================================

GitHub 아이디:       ___________________________________
GitHub 비밀번호:     ___________________________________
NOTION_API_KEY:      ___________________________________
NOTION_PARENT_PAGE_ID: ________________________________
OPENAI_API_KEY:      ___________________________________
ANTHROPIC_API_KEY:   ___________________________________
TELEGRAM_BOT_TOKEN:  ___________________________________
내 앱 URL:           ___________________________________


================================================================
  월 비용 안내
================================================================

┌──────────────────────┬────────────┬───────────────────┐
│ 항목                  │ 월 비용     │ 비고               │
├──────────────────────┼────────────┼───────────────────┤
│ Vercel Pro           │ $20        │ 필수 (긴 녹음 처리) │
│ OpenAI (음성인식)     │ ~$1~3      │ 사용량에 따라       │
│ Anthropic (AI 분석)   │ ~$1~2      │ 사용량에 따라       │
│ Notion               │ 무료       │                    │
│ Telegram             │ 무료       │                    │
├──────────────────────┼────────────┼───────────────────┤
│ 합계                  │ 약 $22~25  │ 약 30,000~34,000원 │
└──────────────────────┴────────────┴───────────────────┘

※ 30분 면담 기준: 음성인식 약 $0.18 + AI 분석 약 $0.02 = 건당 약 $0.20
※ 하루 3건이면 한달 약 $18 → AI 비용만 월 2~3만원 수준


================================================================
  문제가 생겼을 때
================================================================

Q: 배포할 때 에러가 남
A: 환경변수를 빠뜨리지 않았는지 확인하세요.
   특히 NOTION_API_KEY, OPENAI_API_KEY는 필수입니다.

Q: "면담 처리 실패" 에러
A: 다시 시도하세요 (자동 재시도 기능이 있습니다).
   계속 실패하면 OpenAI 크레딧 잔액을 확인하세요.

Q: "429 quota exceeded" 에러
A: OpenAI 또는 Anthropic 크레딧이 소진되었습니다.
   해당 사이트에서 크레딧을 충전하세요.

Q: "504 timeout" 에러
A: Vercel Pro 플랜이 아닌 경우 발생합니다.
   2단계에서 Pro 결제를 했는지 확인하세요.

Q: Notion에 분석 결과가 안 나타남
A: 3단계에서 Notion 페이지에 "면담관리" 통합을 연결했는지 확인하세요.
   페이지 → ... → 연결 → "면담관리"가 있어야 합니다.

Q: 텔레그램 알림이 안 옴
A: 봇에게 먼저 메시지를 보내셨는지 확인하세요 (6단계 7번).

Q: Vercel Pro 해지하고 싶음
A: https://vercel.com/account/billing → "Downgrade to Hobby"


================================================================
  환경변수 수정이 필요할 때
================================================================

나중에 API 키를 변경하거나 수정해야 할 때:

1. https://vercel.com 접속 → 프로젝트 클릭
2. Settings → Environment Variables
3. 수정할 변수 옆 "..." → "Edit" → 새 값 입력 → "Save"
4. Deployments → 최근 배포 → "..." → "Redeploy"
   (환경변수 변경 후에는 반드시 재배포해야 적용됩니다)


================================================================
  문의
================================================================

문제가 해결되지 않으면 아래 GitHub에서 이슈를 남겨주세요:
https://github.com/choi20201101/ccfm-deploy

================================================================
